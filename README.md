# thread-art

## Описание

thread-art — это веб-приложение для генерации маршрута из прямых линий, который повторяет исходное изображение. Маршрут строится между точками на краях холста, который может быть выбран в форме эллипса или прямоугольника. Приложение предоставляет визуализацию результата, текстовое описание маршрута в координатах сетки и возможность скачивания результатов.

<div style="text-align: center;">
  <img src="_/2.png" alt="Описание 1" style="height: 500px; margin: 10px;">
  <img src="_/1.png" alt="Описание 2" style="height: 500px; margin: 10px;">
</div>


## Функционал

- **Загрузка изображения**: Пользователь может загрузить изображение для обработки.
- **Настройка параметров**: 
  - Размеры расчетной и результирующей матриц.
  - Количество точек на краях холста.
  - Количество шагов для построения маршрута.
  - Выбор формы холста (эллипс или прямоугольник).
  - Настройка толщины линии (нити).
- **Визуализация результата**: Отображение исходного и обработанного изображений.
- **Форматированный маршрут**: Текстовое представление маршрута в координатах сетки (например, `A1 → B2 → C3`).
- **Скачивание результатов**: Возможность скачать результирующее изображение и текстовый файл с маршрутом.
- **Прогресс обработки**: Отображение прогресса обработки изображения в реальном времени.

## Технологии

- **Backend**: 
  - ASP.NET Core
  - SignalR (для обновления прогресса в реальном времени)
  - SixLabors.ImageSharp (для обработки изображений)
- **Frontend**: 
  - HTML, CSS, JavaScript
  - Bootstrap (для базового стилизации)
- **Дополнительно**: 
  - Фоновый сервис для очистки временных файлов (`FileCleanupService`).

## Установка и запуск

1. **Предварительные требования**:
   - Установите [.NET SDK](https://dotnet.microsoft.com/download) (версия 6.0 или выше).
   - Для разработки рекомендуется использовать среду, такую как Visual Studio или VS Code.

2. **Клонирование репозитория**:
   ```bash
   git clone <repository-url>
   cd thread-art
   ```

3. **Запуск приложения**:
   ```bash
   dotnet run
   ```
   Приложение будет доступно по адресу: `https://localhost:5001` (или `http://localhost:5000`).

4. **Настройка (опционально)**:
   - Параметры очистки файлов можно изменить в файле `appsettings.json` (раздел `FileCleanup`).

## Руководство пользователя

1. **Загрузка изображения**:
   - Перейдите на главную страницу приложения.
   - Нажмите "Выберите файл" и загрузите изображение.

2. **Настройка параметров**:
   - Укажите размеры матриц, количество точек, шагов и другие параметры.
   - Выберите форму холста (эллипс или прямоугольник).

3. **Запуск обработки**:
   - Нажмите кнопку "Загрузить".
   - Следите за прогрессом обработки в реальном времени.

4. **Просмотр результатов**:
   - После завершения обработки отобразятся исходное и результирующее изображения.
   - Ниже будет показан маршрут в координатах сетки.

5. **Скачивание результатов**:
   - Используйте кнопки "Скачать результат (изображение)" и "Скачать маршрут (текстовый файл)" для сохранения результатов.

6. **Возврат к форме**:
   - Нажмите "← Вернуться к форме", чтобы начать новую обработку.

### Примечания:
- Для больших изображений или сложных параметров обработка может занять некоторое время.
- Результаты обработки временно хранятся на сервере и автоматически удаляются через заданный промежуток времени.
